/**
 * @name responsiveLoader: Conditionally load content based on media query
 * @version 0.2.0 Wed, 04 Feb 2015 22:46:50 GMT
 * @author mjbp
 * @license 
 * @url https://github.com/mjbp/responsiveLoader/
 */
!function(){"use strict";function t(t){this.options=e.extend({},n,t),this.loadCount=0,this.init()}var n={className:"responsive-loader",callback:!1},e={extend:function(){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])arguments[t].hasOwnProperty(n)&&(arguments[0][n]=arguments[t][n]);return arguments[0]}};t.prototype={loadContent:function(t){var n=this;this.loadCount++,document.getElementById(n.content[t].target).innerHTML=n.content[t].html,n.content[t].loaded=!0,this.loadCount===this.content.length&&window.removeEventListener("resize",n.conditionHandler,!1),n.options.callback&&n.options.callback(n.content[t].target)},preloadContent:function(){for(var t=[],n=document.getElementsByTagName("script"),e=0;e<n.length;e++)~n[e].className.indexOf(this.options.className)&&t.push({target:n[e].getAttribute("data-target"),html:n[e].innerHTML,mq:n[e].getAttribute("data-media-query"),loaded:!1});this.content=t},meetsCondition:function(t){return window.matchMedia(t).matches},checkCondition:function(){for(var t=this,n=0;n<t.content.length;n++)!t.content[n].loaded&&t.meetsCondition(t.content[n].mq)&&t.loadContent(n)},init:function(){var t=this;this.preloadContent(),this.content.length&&(this.conditionHandler=this.checkCondition.bind(this),"undefined"!=typeof window.matchMedia||"undefined"!=typeof window.msMatchMedia?(this.conditionHandler(),window.addEventListener("resize",t.conditionHandler,!1)):t.loadContent())}},t.run=function(n){return new t(n)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return t}):"undefined"!=typeof module&&module.exports?(module.exports=t.attach,module.exports.ResponsiveLoader=t):window.ResponsiveLoader=t}();